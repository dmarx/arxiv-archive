---
abstract: |
  The data mixture for large language model pre-training significantly impacts performance, yet how to determine an effective mixture remains unclear. We propose <span class="smallcaps">RegMix</span> to automatically identify a high-performing data mixture by formulating it as a regression task. <span class="smallcaps">RegMix</span> involves training a set of small models with diverse data mixtures and fitting a regression model to predict their performance given their respective mixtures. With the fitted regression model, we simulate the top-ranked mixture and use it to train a large-scale model with orders of magnitude more compute. To empirically validate <span class="smallcaps">RegMix</span>, we train 512 models with 1M parameters for 1B tokens of different mixtures to fit the regression model and find the optimal mixture. Using this mixture we train a 1B parameter model for 25B tokens (i.e. $1000 \times$ larger and $25 \times$ longer) which we find performs best among 64 candidate 1B parameter models with other mixtures. Further, our method demonstrates superior performance compared to human selection and achieves results that match or surpass DoReMi, while utilizing only 10% of the compute budget. Our experiments also show that (1) Data mixtures significantly impact performance with single-task performance variations of up to 14.6%; (2) Web corpora rather than data perceived as high-quality like Wikipedia have the strongest positive correlation with downstream performance; (3) Domains interact in complex ways often contradicting common sense, thus automatic approaches like <span class="smallcaps">RegMix</span> are needed; (4) Data mixture effects transcend scaling laws, and our approach captures the complexity by considering all domains together. Our code is available at <https://github.com/sail-sg/regmix>.
author:
- |
  Qian Liu$^{1}$[^1], Xiaosen Zheng$^{2*}$, Niklas Muennighoff$^3$, Guangtao Zeng$^4$, Longxu Dou$^1$  
  **Tianyu Pang**$^1$, **Jing Jiang**$^2$, **Min Lin**$^1$  
  <sup>1</sup>Sea AI Lab <sup>2</sup>SMU <sup>3</sup>Contextual AI <sup>4</sup>SUTD  
  `liuqian@sea.com; xszheng.2020@phdcs.smu.edu.sg`
bibliography:
- ms.bib
citation-style: ieee
header-includes:
- 
- 
link-citations: true
reference-section-title: References
title: |
  <span class="smallcaps">RegMix</span>: Data Mixture as Regression for  
  Language Model Pre-training
---




[^1]: The first two authors contributed equally.
