\RequirePackage{titletoc}
\RequirePackage{mathtools}
\RequirePackage{etextools}
\RequirePackage{ifthen}
\RequirePackage{xspace}
\RequirePackage{xcolor}
\RequirePackage{soul}
\RequirePackage{amsthm}
\RequirePackage{mleftright,xparse}
\RequirePackage{xifthen}
\RequirePackage{amssymb}
\RequirePackage{dsfont}
\RequirePackage{hhline}
\RequirePackage{bbm}
\RequirePackage{calc}
\RequirePackage{array}
\RequirePackage{adjustbox}
\RequirePackage{longtable}
\RequirePackage{hhline}
\RequirePackage[full]{textcomp}
\RequirePackage{multirow}
\RequirePackage{enumitem}
\RequirePackage{listings}
\RequirePackage{amssymb}
\RequirePackage{pifont}
\RequirePackage{mdframed}
\RequirePackage{setspace}
\RequirePackage{capt-of}
\RequirePackage{environ}
\RequirePackage{expl3}
\RequirePackage{bm}
\RequirePackage{afterpage}
\RequirePackage{hyperref}
\hypersetup{
  colorlinks=true,
  linkcolor=blue,
  % citecolor=[rgb]{0,0.55,0.27}
}
\RequirePackage{cleveref}

\DeclareMathOperator{\rank}{rank}
% \DeclareMathOperator{\sign}{sign} 
\DeclareMathOperator{\diag}{diag}
\DeclareMathOperator{\Trace}{tr}
\DeclareMathOperator{\eigval}{eigval}
\DeclareMathOperator{\eigvec}{eigvec}
\DeclareMathOperator{\eigfun}{eigfun}

% \newcommand{\todo}[1]{\textcolor{red}{{\slshape #1}}}
\newcommand{\degree}{\ensuremath{^\circ}\xspace}
\newcommand{\fig}[1]{Figure~\ref{#1}}
\newcommand{\sect}[1]{Section~\ref{#1}}
\newcommand{\tbl}[1]{Table~\ref{#1}}
\newcommand{\eqn}[1]{Eqn.~\ref{#1}}
\newcommand{\app}[1]{Appendix~\ref{#1}}
\newcommand{\alg}[1]{Algorithm~\ref{#1}}
\newcommand{\dfn}[1]{Definition~\ref{#1}}
\newcommand{\thm}[1]{Theorem~\ref{#1}}
\newcommand{\ignorethis}[1]{}
% \newcommand{\norm}[1]{\lVert#1\rVert}

% \newtheorem{observation}{Observation}
% \newtheorem{theorem}{Theorem}
% \newtheorem{corollary}{Corollary}
% \newtheorem{conjecture}{Conjecture}
% \newtheorem*{conjecture*}{Conjecture}
% \newtheorem{definition}{Definition}

\usepackage{xcolor}
\usepackage{amsthm}
\usepackage{framed}

\setlength{\FrameSep}{3pt}
\setlength{\parindent}{0pt}

\newcommand{\xpar}[1]{\noindent\textbf{#1}\ \ }
\newcommand{\comm}[1]{}

\newcommand{\red}[1]{\textcolor{red}{#1}}
\newcommand{\blue}[1]{\textcolor{blue}{#1}}
\newcommand{\cyan}[1]{\textcolor{cyan}{#1}}
\newcommand{\cL}{\mathcal{L}}
\newcommand{\myparagraph}[1]{\vspace{.2cm} \noindent \textbf{#1}~}

\newcommand\blfootnote[1]{%
  \begingroup
  \renewcommand\thefootnote{}\footnote{#1}%
  \addtocounter{footnote}{-1}%
  \endgroup
}
% \newcommand{\bc}{\mathbf{c}}
% \newcommand{\bm}{\mathbf{m}}
\newcommand{\bx}{\mathbf{x}}
\newcommand{\by}{\mathbf{y}}
\newcommand{\bz}{\mathbf{z}}
\newcommand{\bt}{\mathbf{t}}
\newcommand{\bmu}{\mathbf{\mu}}
\newcommand{\cT}{\mathcal{T}}
\newcommand{\bW}{\mathbf{W}}
\newcommand{\bA}{\mathbf{A}}
\newcommand{\bB}{\mathbf{B}}
\newcommand{\bX}{\mathbf{X}}
\newcommand{\bL}{\mathbf{L}}
\newcommand{\bK}{\mathbf{K}}
\newcommand{\bM}{\mathbf{M}}
\newcommand{\bY}{\mathbf{Y}}
\newcommand{\trieq}{\triangleq}

\newcommand{\bb}{\mathbf{b}}
\newcommand{\ba}{\mathbf{a}}

\newcommand{\R}{\mathbb{R}}
\newcommand{\E}{\mathbb{E}}
\newcommand{\T}{\mathsf{T}}
\newcommand{\tr}{\mathsf{Trace}}

\newcommand{\bSigma}{\mathbf{\Sigma}}

% \newcommand{\eg}{\textit{e.g.,~}}
% \newcommand{\ie}{\textit{i.e.,~}}
\DeclareMathOperator*{\argmin}{arg\,min}
\DeclareMathOperator*{\argmax}{arg\,max}
\newcommand{\transpose}{\mathsf{T}}
\newcommand{\eg}{\textit{e.g.}\xspace}
\newcommand{\etc}{\textit{etc.}\xspace}
\newcommand{\ie}{\textit{i.e.}\xspace}

\newcommand*{\iidsim}{\overset{\text{i.i.d.}}{\sim}}


\newcommand{\reducedstrut}{\vrule width 0pt height .9\ht\strutbox depth .9\dp\strutbox\relax}
\newcommand{\colbox}[2]{%
  \begingroup
  \setlength{\fboxsep}{0pt}%  
  \text{\colorbox{#1}{\reducedstrut#2\/}}%
  \endgroup
}
\newcommand{\mcolbox}[2]{\colbox{#1}{$#2$}}
\hypersetup{
  colorlinks=true,
  citecolor=[rgb]{0,0.55,0.27},
  urlcolor=[rgb]{0,0.55,0.27},
  linkcolor=[rgb]{0,0.55,0.27}
}
\newcommand*{\stext}[1]{\text{ #1 }}
\newcommand*{\iid}{\ifmmode \stext{i.i.d.} \else i.i.d.\@\xspace \fi}
\newcommand{\given}{\mathrel{\vert}}
\newcommand*{\Pco}{{P}_\mathsf{coor}}
\newcommand*{\Kpmi}{K_\mathsf{PMI}}
\newcommand{\Kii}{\Kpmi(z_i, z_i)}
\newcommand{\Kij}{\Kpmi(z_i, z_j)}
\newcommand{\Pcoii}{\Pco(z_i, z_i)}
\newcommand{\Pcoi}{\Pco(z_i)}
\newcommand{\Pcoj}{\Pco(z_j)}
\newcommand{\Pcoij}{\Pco(z_i, z_j)}
\newcommand{\PcoiCi}{\Pco(z_i \given z_i)}
\newcommand{\PcojCi}{\Pco(z_j \given z_i)}
\newcommand{\PcoiCj}{\Pco(z_i \given z_j)}
\newcommand{\Kaa}{\Kpmi(z_a, z_i)}
\newcommand{\Kab}{\Kpmi(z_a, z_j)}
\newcommand{\Pcoaa}{\Pco(z_a, z_a)}
\newcommand{\Pcoa}{\Pco(z_a)}
\newcommand{\Pcob}{\Pco(z_b)}
\newcommand{\Pcoab}{\Pco(z_a, z_b)}
\newcommand{\PcoaCa}{\Pco(z_a \given z_a)}
\newcommand{\PcobCa}{\Pco(z_b \given z_a)}
\newcommand{\PcoaCb}{\Pco(z_a \given z_b)}
\newcommand{\triprop}{\mathrel{\stackrel{\triangle}{\propto}}}
% \newcommand{\iidsim}{\mathrel{\stackrel{\mathsf{i.i.d.}}{\sim}}}

\NewDocumentCommand\xDeclarePairedDelimiter{mmm}
 {%
  \NewDocumentCommand#1{som}{%
   \IfNoValueTF{##2}
    {\IfBooleanTF{##1}{#2##3#3}{\mleft#2##3\mright#3}}
    {\mathopen{##2#2}##3\mathclose{##2#3}}%
  }%
 }
\xDeclarePairedDelimiter{\size}{\lvert}{\rvert}
\xDeclarePairedDelimiter{\abs}{\lvert}{\rvert}
\xDeclarePairedDelimiter{\norm}{\lVert}{\rVert}
\xDeclarePairedDelimiter{\ceil}{\lceil}{\rceil}
\xDeclarePairedDelimiter{\floor}{\lfloor}{\rfloor}

\newcommand{\cstar}{\mathbf{c^{*}}}
\newcommand{\zstar}{\mathbf{z^{*}}}

% \DeclareMathOperator*{\argmax}{arg\,max}
% \DeclareMathOperator*{\argmin}{arg\,min}

\newcommand{\dash}{\tikz{\draw[red,solid,line width=0.9pt](0,0) -- (5mm,0);}}
% \DeclareMathOperator*{\argmax}{arg\,max}
% \DeclareMathOperator*{\argmin}{arg\,min}

\newcommand\Algphase[1]{%
\vspace*{-.7\baselineskip}\Statex\hspace*{\dimexpr-\algorithmicindent-2pt\relax}\rule{\textwidth}{0.4pt}%
\Statex\hspace*{-\algorithmicindent}\textbf{#1}%

\vspace*{-.7\baselineskip}\Statex\hspace*{\dimexpr-\algorithmicindent-2pt\relax}\rule{\textwidth}{0.4pt}%
}

\makeatletter
\def\blfootnote{\gdef\@thefnmark{}\@footnotetext}
\makeatother



\colorlet{task}{green!30!}
\colorlet{model}{blue!30!}
\colorlet{bias}{red!30!}

\tcbset{
    inline/.style={
        on line, % Aligns the box with the baseline of the text
        arc=2pt, % Rounded corners with a small radius
        boxsep=2pt, % Padding around the content inside the box
        left=0pt, right=0pt, % Padding on the left and right sides
        top=0pt, bottom=0pt, % Minimal padding on the top and bottom
        boxrule=0pt, % No border
        colback=#1, % Lighter shade of the specified color
        colframe=#1, % Frame color same as the background (can be adjusted)
        coltext=black, % Text color
        % fontupper=\bfseries, % Bold text inside the box
    }
}


\newcommand{\mathbox}[2][]{%
  \tcbox[inline=#1]{$#2$}
}

% \newcommand{\mathbox}[3][1]{%
%   \tcbox[inline=#2]{\scalebox{#1}{$#3$}}
% }

\newcommand{\textbox}[2][]{%
  \tcbox[inline=#1]{#2}
}

\newcommand{\captionprompt}[2]{
\begin{verbatim}
system: "#1"
user: #2
\end{verbatim}
}